<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">

          <title>Product Data Exchange PDX</title>

        <!-- Bootstrap Core CSS -->
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        
<style>


.scroll-lock {
   overflow-x: hidden; 
}

</style>
<style>
		  
		  .button {
  background-color: Orange;  
  border-radius: 5px;
  color: white;
  padding: .5em;
  text-decoration: none;
}

.button:focus,
.button:hover {
  background-color: Green;
  color: White;
    text-decoration: none;

}

.content {
  display: none;
  margin: 1em 0;
}

.content.active,
.no-js .content {
  display: block;
}

input[type=textarea], select {
					  background-image: url('/css/bgnd_search.png');
					  background-position: 30px 40px;
					  align:center-right
					  background-repeat: no-repeat;
					  width: 20%;
					  font-size: 14px;
					  padding: 12px 20px 12px 20px;
					  border: 1px solid #ddd;
					  margin-bottom: 12px;
					}
		  
		  </style>
		
		<script>
		
		function myFunction() {
  var input, filter, table, tr, td, i;
  input = document.getElementById("myInput");
  filter = input.value.toUpperCase();
  table = document.getElementById("subsiteList");
  tr = table.getElementsByTagName("tr");
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[0];
    if (td) {
      if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
        tr[i].style.display = "none";
      }
    }       
  }
}


function getSearchCatalog()
{
  var catalogName= document.getElementById('cName').value
  var description= document.getElementById('desc').value
  
  console.log(catalogName);
  console.log(description);
  
  if(catalogName != null || description != null)
	  {
	  	getCatalogDetails(catalogName, description);
	  }
}

		</script>

        <!-- MetisMenu CSS -->
        <link href="../css/metisMenu.min.css" rel="stylesheet">
		
		
		


        <!-- DataTables CSS -->
        <link href="../css/dataTables/dataTables.bootstrap.css" rel="stylesheet">
		<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
        
<link href="../css/popup/jquery.simple-popup.min.css" rel="stylesheet" type="text/css">

        <!-- DataTables Responsive CSS -->
        <link href="../css/dataTables/dataTables.responsive.css" rel="stylesheet">


        <!-- Custom CSS -->
        <link href="../css/pdx.css" rel="stylesheet">
		
		 <link href="Style.css" rel="stylesheet">
		 <link href="sweetalert.css" rel="stylesheet">
		
		<script src="Script.js"></script>
		<script src="sweetalert.js"></script>

        <!-- Custom Fonts -->
        <link href="../css/font-awesome.min.css" rel="stylesheet" type="text/css">


        
  


    </head>
    <body>
<script>
function create(){
	CreateCatalog();
} 
function refreshPage(){

	UpdateCatalog(uId);
    window.location.reload();
} 

function getSearchCatalog()
{
  var catalogName= document.getElementById('cName').value
  var description= document.getElementById('desc').value
  
  console.log(catalogName);
  console.log(description);
  
  if(catalogName != null || description != null)
	  {
	  	getCatalogDetails(catalogName, description);
	  }
}
</script>


</script>
        <div id="wrapper">

            <!-- Navigation -->
  <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
                <div class="navbar-header">
                    <a class="navbar-brand" href="index.html">Product Data Exchange <i>PDX</i></a>
                </div>

                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>

                <ul class="nav navbar-nav navbar-left navbar-top-links">
                    <li><a href="#"><i class="fa fa-home fa-fw"></i> Home</a></li>
                </ul>

                <ul class="nav navbar-right navbar-top-links">
                    <li class="dropdown navbar-inverse">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                            <i class="fa fa-bell fa-fw"></i> <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu dropdown-alerts">
                            <li>
                                <a href="#">
                                    <div>
                                        <i class="fa  fa-plus-square"></i> New Products Added
                                        <span class="pull-right text-muted small">2 minutes ago</span>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <div>
                                        <i class="fa  fa-plus-square"></i> 3 New E-Tailer
                                        <span class="pull-right text-muted small">5 hours ago</span>
                                    </div>
                                </a>
                            </li>
                           <li>
                                <a class="text-center" href="#">
                                   <center> <strong>See All Alerts</strong></center>
                                    <i class="fa fa-angle-right"></i>
                                </a>
                            </li>
                        </ul>
                    </li>
					
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                            <i class="fa fa-user fa-fw"></i> User1 <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu dropdown-user">
                            <li><a href="#"><i class="fa fa-user fa-fw"></i> User Profile</a>
                            </li>
                            <li class="divider"></li>
                            <li><a href="login.html"><i class="fa fa-sign-out fa-fw"></i> Logout</a>
                            </li>
                        </ul>
                    </li>
                </ul>
                <!-- /.navbar-top-links -->

                <div class="navbar-default sidebar" role="navigation">
                    <div class="sidebar-nav navbar-collapse">
                        <ul class="nav" id="side-menu">
                            <li class="sidebar-search">
                                <div class="input-group custom-search-form">
                                    <input type="text" class="form-control" placeholder="Search...">
                                    <span class="input-group-btn">
                                        <button class="btn btn-primary" type="button">
                                            <i class="fa fa-search"></i>
                                        </button>
                                </span>
                                </div>
                                <!-- /input-group -->
                            </li>
                            <li>
                                <a href="dashboard.html" class="active"><i class="fa fa-dashboard fa-fw"></i> Dashboard</a>
                            </li>
                            
                            <li>
                                <a href="#"><i class="fa fa-table fa-fw"></i>Catalog Management <span class="fa arrow"></span></a></a>
                                <ul class="nav nav-second-level">
 <li>
                                        <a href="catalog.html">Manage Catalog</a>
                                    </li>
                                    <li>
                                        <a href="mapping.html">Create Catalog Mapping</a>
                                    </li>
                                     <li>
                                        <a href="mapping_update.html">Update Catalog Mapping</a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <a href="#"><i class="fa fa-table fa-fw"></i>Products <span class="fa arrow"></span></a></a>
                                <ul class="nav nav-second-level">
                                <li>
                                        <a href="products.html">View All Products</a>
                                    </li>
                                    
                                </ul>	
                            </li>
							<li>
                                <a href="#"><i class="fa fa-bar-chart-o fa-fw"></i> Administration<span class="fa arrow"></span></a>
                                <ul class="nav nav-second-level">
                                    <li>
                                        <a href="Manage Source.html">Manage Sources</a>
                                    </li>
                                    <li>
                                        <a href="Manage Target.html">Manage Targets</a>
                                    </li>
                                </ul>
                                <!-- /.nav-second-level -->
                            </li>
                            
                           
                            
                        </ul>
                    </div>
                </div>
            </nav>
			 
			
            <div id="page-wrapper" class="scroll-lock">
                <div class="row">
                    <div class="col-lg-12">
                        <h1 class="page-header">Manage Catalog </h1>
                    </div>
                    <!-- /.col-lg-12 -->
                </div>
                <!-- /.row -->
                <div class="row">
                    <div class="col-lg-12">
					
                        
								 
								 
								

                            <!-- /.panel-heading -->
							
                            <div class="panel-body">
							
							                     <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 pleft0 pright0">
                        <h5 id="BtnAlign">
                           
						   <a class="addbtn" target="_blank" style="color:white; text-decoration:none" data-target="#ModalForNewProject" data-toggle="modal"><img src="../images/addnew.png" title="Add New Catalog"></a>
                        
									<div class="col-lg-12">
							
											<form>
				                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
											&nbsp;&nbsp;&nbsp;&nbsp;
											<input type="textarea" id="cName" placeholder="Catalog name.." title="Catalog name">											
				                            
				                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
											
											
											<input type="textarea" id="desc" placeholder="Description.." title="Description">
											
																						<a class="addbtn" target="_blank" style="color:white; text-decoration:none" onclick="getSearchCatalog()"><img src="../images/search.png" title="Search Source"></a>
											
											<input class="button" type="reset" value="Reset">

											
											</form>

											
				                            
                    					</div>						
						</h5>
                        <br>
                     </div>
                                <div class="dataTable_wrapper">
                                
								
                                    <table class="table table-striped table-bordered table-hover" id="subsiteList">
                                    <div class="container">


</div>
									
                                        <thead class="button">
                           <tr>
								
                              <th>Catalog Name</th>
                              <th>Description</th>
                              
                              
                               <th>Update</th>
                              <th>Delete</th>
                           </tr>
                        </thead>
                                        <tbody>   
                                        </tbody>
                                    </table>
                                </div>
                                <!-- /.table-responsive -->
                                
                            </div>
							
							<div class="modal fade" id="ModalForNewProject" role="dialog" title="Create new Project">  
            <div class="modal-dialog">  
                <fieldset>  
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 cls-contriute">  
                        <h5 class="contributtitle">Add Catalog Information</h5>  
                    </div>  
                </fieldset>  
                <div id="ModelBody">  
                    <div class="form-horizontal well bs-component cls-divthoug" id="ModalValidation">  
                        <fieldset id="bodymodal">  
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group"> <label class="col-lg-4 col-md-4 col-sm-4 col-xs-4 cls-thought">Catalog Name  
<span class="red">*</span>  
</label>  
                                <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8"> <input class="form-control" type="text" id="txtempname" required="true" /> <span class="ErMsg" id="ProNmMsg">Please fill out this field!</span> </div>  
                            </div>  
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group"> <label class="col-lg-4 col-md-4 col-sm-4 col-xs-4 cls-thought">Description  
<span class="red">*</span>  
</label>  
                                <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8"> <input class="form-control" type="text" id="txtdesignation" required="true" /> <span class="ErMsg" id="ProNmMsg">Please fill out this field!</span> </div>  
                            </div>  
                           
                           
                            
                            
                            
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group">  
                                <div class="col-lg-offset-7 col-lg-2 cls-divbtn "> <input class="button" id="btnsave" type="button" value="Submit" onclick="create();" data-dismiss="modal""  /> </div>  
                                <div class="col-lg-2 col-lg-offset-1"> <input class="button" type="reset" value="Cancel" id="btnCancel" data-dismiss="modal" /> </div>

                            </div>  
                        </fieldset>  
                    </div>  
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group cls-sucees" style="background-color:#edeff2">  
                        <div id="successMessage"></div>  
                    </div>  
                </div>  
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group LoadingDiv" id="loader" style="display:none;padding: 66px;background-color: #0a2f7d!important;">  
                    <div class="loader">Loading...</div>  
                    <div class="loader1">  
                        <p class="ones"></p>  
                    </div>  
                </div>  
            </div>  
        </div>
		
		     <!-- update modal -->
      
       <div class="modal fade" id="ModalForUpdateEmployee" role="dialog" title="Update New Employee">
            <div class="modal-dialog">
               <fieldset>
                  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 cls-contriute">
                     <h5 class="contributtitle">Update Catalog Information</h5>
                  </div>
               </fieldset>
               <div id="ModelBody">
                  <div class="form-horizontal well bs-component cls-divthoug" id="ModalValidation">
                     <fieldset id="bodymodal">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group"> <label class="col-lg-4 col-md-4 col-sm-4 col-xs-4 cls-thought">Catalog Name  
<span class="red">*</span>  
</label>  
                                <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8"> 
								<input class="form-control" type="text" id="txtempnames" /> <span class="ErMsg" id="ProNmMsg">Please fill out this field!</span> </div>  
                            </div>  
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group"> <label class="col-lg-4 col-md-4 col-sm-4 col-xs-4 cls-thought">Description  
<span class="red">*</span>  
</label>  
                                <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8"> <input class="form-control" type="text" id="txtdesignations" /> <span class="ErMsg" id="ProNmMsg">Please fill out this field!</span> </div>  
                            </div>  
                          

                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-group">
                           <div class="col-lg-offset-7 col-lg-2 cls-divbtn ">
                              <input class="cls-savecancel" id="btnsave" type="button" onclick="UpdateCatalog(uId);" value="Save" data-dismiss="modal""   />
                           </div>
                           <div class="col-lg-2 col-lg-offset-1">
                              <input class="cls-savecancel" type="reset" value="Cancel" id="btnCancel"  data-dismiss="modal" />
							  
							  							                                

                           </div>
						   
						   
                        </div>
                     </fieldset>
                  </div>
         </div>
         </div>
      </div>
                            <!-- /.panel-body -->
                        </div>
                        <!-- /.panel -->
                    </div>
                    <!-- /.col-lg-12 -->
                </div>
                <!-- /.row -->

                <!-- /.row -->
               
                <!-- /.row -->
  
                <!-- /.row -->
            </div>
            <!-- /#page-wrapper -->

        </div>
        <!-- /#wrapper -->

        <!-- jQuery -->
        <script src="../js/jquery.min.js"></script>
<script>




$(function(){

var appendthis =  ("<div class='modal-overlay js-modal-close'></div>");

	$('a[data-modal-id]').click(function(e) {
		e.preventDefault();
    $("body").append(appendthis);
    $(".modal-overlay").fadeTo(500, 0.7);
    //$(".js-modalbox").fadeIn(500);
		var modalBox = $(this).attr('data-modal-id');
		$('#'+modalBox).fadeIn($(this).data());
	});  
  
  
$(".js-modal-close, .modal-overlay").click(function() {
    $(".modal-box, .modal-overlay").fadeOut(500, function() {
        $(".modal-overlay").remove();
    });
 
});
 
$(window).resize(function() {
    $(".modal-box").css({
        top: ($(window).height() - $(".modal-box").outerHeight()) / 2,
        left: ($(window).width() - $(".modal-box").outerWidth()) / 2
    });
});
 
$(window).resize();
 
});
</script>


<script src="../js/popup/jquery.simple-popup.min.js"></script>
<script>
$(document).ready(function() {
  $("a.demo-1").simplePopup();
  $("a.demo-2").simplePopup({ type: "html", htmlSelector: "#popup1" });
});
</script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-36251023-1']);
  _gaq.push(['_setDomainName', 'jqueryscript.net']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
        <!-- Bootstrap Core JavaScript -->
        <script src="../js/bootstrap.min.js"></script>

        <!-- Metis Menu Plugin JavaScript -->
        <script src="../js/metisMenu.min.js"></script>

        <!-- DataTables JavaScript -->
        <script src="../js/dataTables/jquery.dataTables.min.js"></script>
        <script src="../js/dataTables/dataTables.bootstrap.min.js"></script>

        <!-- Custom Theme JavaScript -->
        <script src="../js/pdx.js"></script>

        <!-- Page-Level Demo Scripts - Tables - Use for reference -->
        <script>
            $(document).ready(function() {
                $('#dataTables-example').DataTable({
                        responsive: true
                });
            });
        </script>

		<script>
		window.onload=function(){
	getItems();
}
		function getCatalogDetails(cName, descr){
		
		
		if(cName==""){
		
		
		cName="PASSEDNULL";
		
		}
		
		else if(descr==""){
		
		descr='PASSEDNULL';
		}

			$.ajax({
			  
			    async: true,    
			    url: 'https://144.21.93.75/ords/pdb1/ipsolws/catalogs/gets/'+ cName + '/' + descr,
			    method: "GET",

			    headers:{
			    "accept":"application/json;odata=verbose",
			    "content-type": "application/json;odata=verbose"
			    
			    },
			    success: function(data){
			   // data = data.items;
			    //console.log(data);
			    $('#subsiteList tbody').empty();
			     for(var i = 0; i < data.items.length; i++){
			    
			        var html = "<tr><td><a class='button' onclick='getvalue(this);' href='productadd.html?"+data.items[i].id+"' data-target='#ModalForUpdateEmployee' >"+data.items[i].catalog_name+"</a></b></td><td>"+data.items[i].description+"</td><td><a href='#' data-target='#ModalForUpdateEmployee' data-toggle='modal' onclick='edit("+data.items[i].id+");'><img src='../images/edit.jpg'></a></td><td><a href='#' onclick='deleteItem("+data.items[i].id+");'><img src='../images/delete.png'></a></td></tr>";
			        $('.table tbody').append(html);
			        
			        

			    }
			  
			      table = $('#subsiteList').DataTable();
			    },
			    error: function(error){
			    console.log(JSON.stringify(error));
			    
			    }
			    
			    })


			}


		</script>
		
<script>


function getItems(){

$.ajax({
  
    async: true,    
    url: "https://144.21.93.75/ords/pdb1/ipsolws/catalogs/get",
    method: "GET",

    headers:{
    "accept":"application/json;odata=verbose",
    "content-type": "application/json;odata=verbose"
    
    },
    success: function(data){
   // data = data.items;
    //console.log(data);
     for(var i = 0; i < data.items.length; i++){
    
        var html = "<tr><td><a onclick='getvalue(this);' class='button js-button' role='button' href='productadd.html?"+data.items[i].id+"' data-target='#ModalForUpdateEmployee' >"+data.items[i].name+"</a></b></td><td>"+data.items[i].description+"</td><td><a href='#' data-target='#ModalForUpdateEmployee' data-toggle='modal' onclick='edit("+data.items[i].id+");'><img src='../images/edit.jpg'></a></td><td><a  href='#' onclick='deleteItem("+data.items[i].id+");'><img src='../images/delete.png'></a></td></tr>";
        $('.table tbody').append(html);

    }
  
      table = $('#subsiteList').DataTable();
    },
    error: function(error){
    console.log(JSON.stringify(error));
    
    }
    
    })


}

</script>
    </body>
</html>
